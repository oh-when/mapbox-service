/*! For license information please see MapboxService.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.MapboxService=e():t.MapboxService=e()}(this,(function(){return function(){var t={954:function(t){function e(t,e,r,n,o,i,u){try{var a=t[i](u),s=a.value}catch(t){return void r(t)}a.done?e(s):Promise.resolve(s).then(n,o)}t.exports=function(t){return function(){var r=this,n=arguments;return new Promise((function(o,i){var u=t.apply(r,n);function a(t){e(u,o,i,a,s,"next",t)}function s(t){e(u,o,i,a,s,"throw",t)}a(void 0)}))}},t.exports.default=t.exports,t.exports.__esModule=!0},85:function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0},198:function(t){function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t},t.exports.default=t.exports,t.exports.__esModule=!0},260:function(t){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},t.exports.default=t.exports,t.exports.__esModule=!0},859:function(t){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.default=t.exports,t.exports.__esModule=!0},921:function(t){function e(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=e=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),e(r)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0},162:function(t,e,r){t.exports=r(801)},738:function(t,e,r){var n;!function(t){!function(e){var n="object"==typeof r.g?r.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),o=i(t);function i(t,e){return function(r,n){"function"!=typeof t[r]&&Object.defineProperty(t,r,{configurable:!0,writable:!0,value:n}),e&&e(r,n)}}void 0===n.Reflect?n.Reflect=t:o=i(n.Reflect,o),function(t){var e=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,n=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",i="function"==typeof Object.create,u={__proto__:[]}instanceof Array,a=!i&&!u,s={create:i?function(){return nt(Object.create(null))}:u?function(){return nt({__proto__:null})}:function(){return nt({})},has:a?function(t,r){return e.call(t,r)}:function(t,e){return e in t},get:a?function(t,r){return e.call(t,r)?t[r]:void 0}:function(t,e){return t[e]}},c=Object.getPrototypeOf(Function),f="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,l=f||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?tt():Map,p=f||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?et():Set,y=new(f||"function"!=typeof WeakMap?rt():WeakMap);function h(t,e,r,n){if(L(r)){if(!V(t))throw new TypeError;if(!H(e))throw new TypeError;return O(t,e)}if(!V(t))throw new TypeError;if(!D(e))throw new TypeError;if(!D(n)&&!L(n)&&!U(n))throw new TypeError;return U(n)&&(n=void 0),k(t,e,r=W(r),n)}function d(t,e){function r(r,n){if(!D(r))throw new TypeError;if(!L(n)&&!B(n))throw new TypeError;E(t,e,r,n)}return r}function v(t,e,r,n){if(!D(r))throw new TypeError;return L(n)||(n=W(n)),E(t,e,r,n)}function g(t,e,r){if(!D(e))throw new TypeError;return L(r)||(r=W(r)),T(t,e,r)}function b(t,e,r){if(!D(e))throw new TypeError;return L(r)||(r=W(r)),M(t,e,r)}function m(t,e,r){if(!D(e))throw new TypeError;return L(r)||(r=W(r)),S(t,e,r)}function w(t,e,r){if(!D(e))throw new TypeError;return L(r)||(r=W(r)),R(t,e,r)}function _(t,e){if(!D(t))throw new TypeError;return L(e)||(e=W(e)),A(t,e)}function x(t,e){if(!D(t))throw new TypeError;return L(e)||(e=W(e)),C(t,e)}function j(t,e,r){if(!D(e))throw new TypeError;L(r)||(r=W(r));var n=P(e,r,!1);if(L(n))return!1;if(!n.delete(t))return!1;if(n.size>0)return!0;var o=y.get(e);return o.delete(r),o.size>0||y.delete(e),!0}function O(t,e){for(var r=t.length-1;r>=0;--r){var n=(0,t[r])(e);if(!L(n)&&!U(n)){if(!H(n))throw new TypeError;e=n}}return e}function k(t,e,r,n){for(var o=t.length-1;o>=0;--o){var i=(0,t[o])(e,r,n);if(!L(i)&&!U(i)){if(!D(i))throw new TypeError;n=i}}return n}function P(t,e,r){var n=y.get(t);if(L(n)){if(!r)return;n=new l,y.set(t,n)}var o=n.get(e);if(L(o)){if(!r)return;o=new l,n.set(e,o)}return o}function T(t,e,r){if(M(t,e,r))return!0;var n=$(e);return!U(n)&&T(t,n,r)}function M(t,e,r){var n=P(e,r,!1);return!L(n)&&q(n.has(t))}function S(t,e,r){if(M(t,e,r))return R(t,e,r);var n=$(e);return U(n)?void 0:S(t,n,r)}function R(t,e,r){var n=P(e,r,!1);if(!L(n))return n.get(t)}function E(t,e,r,n){P(r,n,!0).set(t,e)}function A(t,e){var r=C(t,e),n=$(t);if(null===n)return r;var o=A(n,e);if(o.length<=0)return r;if(r.length<=0)return o;for(var i=new p,u=[],a=0,s=r;a<s.length;a++){var c=s[a];i.has(c)||(i.add(c),u.push(c))}for(var f=0,l=o;f<l.length;f++){c=l[f];i.has(c)||(i.add(c),u.push(c))}return u}function C(t,e){var r=[],n=P(t,e,!1);if(L(n))return r;for(var o=Y(n.keys()),i=0;;){var u=X(o);if(!u)return r.length=i,r;var a=Q(u);try{r[i]=a}catch(t){try{Z(o)}finally{throw t}}i++}}function I(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function L(t){return void 0===t}function U(t){return null===t}function F(t){return"symbol"==typeof t}function D(t){return"object"==typeof t?null!==t:"function"==typeof t}function G(t,e){switch(I(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var r=3===e?"string":5===e?"number":"default",o=J(t,n);if(void 0!==o){var i=o.call(t,r);if(D(i))throw new TypeError;return i}return N(t,"default"===r?"number":r)}function N(t,e){if("string"===e){var r=t.toString;if(z(r))if(!D(o=r.call(t)))return o;if(z(n=t.valueOf))if(!D(o=n.call(t)))return o}else{var n;if(z(n=t.valueOf))if(!D(o=n.call(t)))return o;var o,i=t.toString;if(z(i))if(!D(o=i.call(t)))return o}throw new TypeError}function q(t){return!!t}function K(t){return""+t}function W(t){var e=G(t,3);return F(e)?e:K(e)}function V(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function z(t){return"function"==typeof t}function H(t){return"function"==typeof t}function B(t){switch(I(t)){case 3:case 4:return!0;default:return!1}}function J(t,e){var r=t[e];if(null!=r){if(!z(r))throw new TypeError;return r}}function Y(t){var e=J(t,o);if(!z(e))throw new TypeError;var r=e.call(t);if(!D(r))throw new TypeError;return r}function Q(t){return t.value}function X(t){var e=t.next();return!e.done&&e}function Z(t){var e=t.return;e&&e.call(t)}function $(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===c)return e;if(e!==c)return e;var r=t.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return e;var o=n.constructor;return"function"!=typeof o||o===t?e:o}function tt(){var t={},e=[],r=function(){function t(t,e,r){this._index=0,this._keys=t,this._values=e,this._selector=r}return t.prototype["@@iterator"]=function(){return this},t.prototype[o]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var r=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var r=this._find(t,!0);return this._values[r]=e,this},e.prototype.delete=function(e){var r=this._find(e,!1);if(r>=0){for(var n=this._keys.length,o=r+1;o<n;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new r(this._keys,this._values,n)},e.prototype.values=function(){return new r(this._keys,this._values,i)},e.prototype.entries=function(){return new r(this._keys,this._values,u)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[o]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function n(t,e){return t}function i(t,e){return e}function u(t,e){return[t,e]}}function et(){return function(){function t(){this._map=new l}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[o]=function(){return this.keys()},t}()}function rt(){var t=16,r=s.create(),n=o();return function(){function t(){this._key=o()}return t.prototype.has=function(t){var e=i(t,!1);return void 0!==e&&s.has(e,this._key)},t.prototype.get=function(t){var e=i(t,!1);return void 0!==e?s.get(e,this._key):void 0},t.prototype.set=function(t,e){return i(t,!0)[this._key]=e,this},t.prototype.delete=function(t){var e=i(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=o()},t}();function o(){var t;do{t="@@WeakMap@@"+c()}while(s.has(r,t));return r[t]=!0,t}function i(t,r){if(!e.call(t,n)){if(!r)return;Object.defineProperty(t,n,{value:s.create()})}return t[n]}function u(t,e){for(var r=0;r<e;++r)t[r]=255*Math.random()|0;return t}function a(t){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):u(new Uint8Array(t),t):u(new Array(t),t)}function c(){var e=a(t);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var r="",n=0;n<t;++n){var o=e[n];4!==n&&6!==n&&8!==n||(r+="-"),o<16&&(r+="0"),r+=o.toString(16).toLowerCase()}return r}}function nt(t){return t.__=void 0,delete t.__,t}t("decorate",h),t("metadata",d),t("defineMetadata",v),t("hasMetadata",g),t("hasOwnMetadata",b),t("getMetadata",m),t("getOwnMetadata",w),t("getMetadataKeys",_),t("getOwnMetadataKeys",x),t("deleteMetadata",j)}(o)}()}(n||(n={}))},801:function(t,e,r){var n,o,i;t=r.nmd(t),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[r(921)],void 0===(i="function"==typeof(n=function(e){"use strict";var n=r(859),o=function(t){var r,n=Object.prototype,o=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof g?e:g,i=Object.create(o.prototype),u=new R(n||[]);return i._invoke=P(t,r,u),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p="suspendedStart",y="suspendedYield",h="executing",d="completed",v={};function g(){}function b(){}function m(){}var w={};w[u]=function(){return this};var _=Object.getPrototypeOf,x=_&&_(_(E([])));x&&x!==n&&o.call(x,u)&&(w=x);var j=m.prototype=g.prototype=Object.create(w);function O(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,r){function n(i,u,a,s){var c=l(t[i],t,u);if("throw"!==c.type){var f=c.arg,p=f.value;return p&&"object"===(0,e.default)(p)&&o.call(p,"__await")?r.resolve(p.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):r.resolve(p).then((function(t){f.value=t,a(f)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;function u(t,e){function o(){return new r((function(r,o){n(t,e,r,o)}))}return i=i?i.then(o,o):o()}this._invoke=u}function P(t,e,r){var n=p;return function(o,i){if(n===h)throw new Error("Generator is already running");if(n===d){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var a=T(u,r);if(a){if(a===v)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===p)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var s=l(t,e,r);if("normal"===s.type){if(n=r.done?d:y,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n=d,r.method="throw",r.arg=s.arg)}}}function T(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,T(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,v;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,v):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function E(t){if(t){var e=t[u];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=r,e.done=!0,e};return i.next=i}}return{next:A}}function A(){return{value:r,done:!0}}return b.prototype=j.constructor=m,m.constructor=b,b.displayName=c(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,s,"GeneratorFunction")),t.prototype=Object.create(j),t},t.awrap=function(t){return{__await:t}},O(k.prototype),k.prototype[a]=function(){return this},t.AsyncIterator=k,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var u=new k(f(e,r,n,o),i);return t.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},O(j),c(j,s,"Generator"),j[u]=function(){return this},j.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=E,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,o){return a.type="throw",a.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var u=this.tryEntries[i],a=u.completion;if("root"===u.tryLoc)return n("end");if(u.tryLoc<=this.prev){var s=o.call(u,"catchLoc"),c=o.call(u,"finallyLoc");if(s&&c){if(this.prev<u.catchLoc)return n(u.catchLoc,!0);if(this.prev<u.finallyLoc)return n(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return n(u.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return n(u.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),v}},t}("object"===(0,(e=n(e)).default)(t)?t.exports:{});try{regeneratorRuntime=o}catch(t){Function("r","regeneratorRuntime = r")(o)}})?n.apply(e,o):n)||(t.exports=i)},128:function(t,e,r){var n,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,r(162),r(954),r(85),r(198),r(751)],void 0===(i="function"==typeof(n=function(t,e,n,o,i,u){"use strict";var a,s,c,f=r(859);Object.defineProperty(t,"__esModule",{value:!0}),t.Ajax=void 0,e=f(e),n=f(n),o=f(o),i=f(i);var l=(a=(0,u.injectable)(),s=(0,u.singleton)(),a(c=s(c=function(){function t(){(0,o.default)(this,t)}return(0,i.default)(t,[{key:"requestGET",value:function(){var t=(0,n.default)(e.default.mark((function t(r){var n;return e.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.getUrlObject(r),t.abrupt("return",window.fetch(n.toString(),{method:"GET"}).then((function(t){return t.json()})));case 2:case"end":return t.stop()}}),t,this)})));function r(e){return t.apply(this,arguments)}return r}()},{key:"requestBLOB",value:function(){var t=(0,n.default)(e.default.mark((function t(r){var n;return e.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.getUrlObject(r),t.abrupt("return",window.fetch(n.toString(),{method:"GET"}).then((function(t){return t.blob()})));case 2:case"end":return t.stop()}}),t,this)})));function r(e){return t.apply(this,arguments)}return r}()},{key:"getUrl",value:function(t){return this.getUrlObject(t)}},{key:"getUrlObject",value:function(t){var e=t.url,r=t.paths,n=t.param,o=new URL(e);if(r&&(o.pathname="/".concat(o.pathname.split("/").filter((function(t){return""!==t})).concat(r).join("/"))),n){var i=new URLSearchParams(o.search);for(var u in n)i.set(u,n[u]);o.search="?".concat(i.toString())}return o}}]),t}())||c)||c);t.Ajax=l})?n.apply(e,o):n)||(t.exports=i)},207:function(t,e,r){var n,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,r(437),r(128)],void 0===(i="function"==typeof(n=function(t,e,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach((function(r){"default"!==r&&"__esModule"!==r&&(r in t&&t[r]===e[r]||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}}))})),Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))})?n.apply(e,o):n)||(t.exports=i)},437:function(t,e){var r,n,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[e],void 0===(o="function"==typeof(r=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})})?r.apply(e,n):r)||(t.exports=o)},802:function(t,e,r){var n,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,r(260),r(85),r(198),r(751)],void 0===(i="function"==typeof(n=function(t,e,n,o,i){"use strict";var u,a,s,c,f,l=r(859);function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function y(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?p(Object(n),!0).forEach((function(r){(0,e.default)(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=l(e),n=l(n),o=l(o);var h={theme:"light-v10"},d=(u=(0,i.injectable)(),a=(0,i.singleton)(),s=Reflect.metadata("design:type",Function),c=Reflect.metadata("design:paramtypes",["undefined"==typeof MapboxConfigOption?Object:MapboxConfigOption]),u(f=a(f=s(f=c(f=function(){function t(e){(0,n.default)(this,t),this.opt=y(y({},h),e)}return(0,o.default)(t,[{key:"getAccessToken",value:function(){return this.opt.accessToken}},{key:"getTheme",value:function(){return this.opt.theme}}]),t}())||f)||f)||f)||f);t.default=d})?n.apply(e,o):n)||(t.exports=i)},157:function(t,e,r){var n,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,r(802),r(304)],void 0===(i="function"==typeof(n=function(t,e,n){"use strict";var o=r(859);Object.defineProperty(t,"__esModule",{value:!0});var i={};Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.default}}),e=o(e),Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))})?n.apply(e,o):n)||(t.exports=i)},304:function(t,e){var r,n,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[e],void 0===(o="function"==typeof(r=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})})?r.apply(e,n):r)||(t.exports=o)},184:function(t,e,r){var n,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,r(162),r(954),r(85),r(198),r(751)],void 0===(i="function"==typeof(n=function(t,e,n,o,i,u){"use strict";var a,s,c,f,l,p,y,h=r(859);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=h(e),n=h(n),o=h(o),i=h(i);var d=(a=(0,u.injectable)(),s=(0,u.singleton)(),c=function(t,e){return(0,u.inject)("Ajax")(t,void 0,0)},f=function(t,e){return(0,u.inject)("MapboxUrl")(t,void 0,1)},l=Reflect.metadata("design:type",Function),p=Reflect.metadata("design:paramtypes",["undefined"==typeof Ajax?Object:Ajax,"undefined"==typeof MapboxUrl?Object:MapboxUrl]),a(y=s(y=c(y=f(y=l(y=p(y=function(){function t(e,r){(0,o.default)(this,t),this.ajax=e,this.url=r}return(0,i.default)(t,[{key:"getDirections",value:function(){var t=(0,n.default)(e.default.mark((function t(r){var n,o,i;return e.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.spotCoords,o=r.type,i=this.url.getDirectionUrl({spotCoords:n,type:o}),t.abrupt("return",this.ajax.requestGET({url:i}).then((function(t){return t&&t.routes&&t.routes[0]&&t.routes[0].geometry&&t.routes[0].geometry.coordinates?t.routes[0].geometry.coordinates:[]})));case 3:case"end":return t.stop()}}),t,this)})));function r(e){return t.apply(this,arguments)}return r}()}]),t}())||y)||y)||y)||y)||y)||y);t.default=d})?n.apply(e,o):n)||(t.exports=i)},898:function(t,e,r){var n,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,r(184)],void 0===(i="function"==typeof(n=function(t,e){"use strict";var n=r(859);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.default}}),e=n(e)})?n.apply(e,o):n)||(t.exports=i)},506:function(t,e,r){var n,o,i,u=r(921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,r(85),r(198),r(738),r(751),r(207),r(157),r(122),r(898),r(398)],void 0===(i="function"==typeof(n=function(t,e,n,o,i,a,s,c,f,l){"use strict";var p,y,h,d,v=r(859);function g(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(g=function(t){return t?r:e})(t)}function b(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==u(t)&&"function"!=typeof t)return{default:t};var r=g(e);if(r&&r.has(t))return r.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var a=o?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=t[i]}return n.default=t,r&&r.set(t,n),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=v(e),n=v(n),s=b(s),c=v(c),f=v(f),l=v(l);var m=(p=(0,i.singleton)(),y=Reflect.metadata("design:type",Function),h=Reflect.metadata("design:paramtypes",[void 0===s.MapboxConfigOption?Object:s.MapboxConfigOption]),p(d=y(d=h(d=function(){function t(r){(0,e.default)(this,t),i.container.register("Ajax",{useClass:a.Ajax}).register("MapboxConfig",{useValue:new s.default(r)}).register("MapboxUrl",{useClass:c.default}).register("MapboxDirection",{useClass:f.default}).register("MapboxStaticImage",{useClass:l.default})}return(0,n.default)(t,[{key:"config",get:function(){return i.container.resolve("MapboxConfig")}},{key:"url",get:function(){return i.container.resolve("MapboxUrl")}},{key:"direction",get:function(){return i.container.resolve("MapboxDirection")}},{key:"staticImage",get:function(){return i.container.resolve("MapboxStaticImage")}}]),t}())||d)||d)||d);t.default=m})?n.apply(e,o):n)||(t.exports=i)},266:function(t,e,r){var n,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,r(506)],void 0===(i="function"==typeof(n=function(t,e){"use strict";var n=r(859);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.default}}),e=n(e)})?n.apply(e,o):n)||(t.exports=i)},149:function(t,e,r){var n,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,r(162),r(260),r(954),r(85),r(198),r(751)],void 0===(i="function"==typeof(n=function(t,e,n,o,i,u,a){"use strict";var s,c,f,l,p,y,h,d,v=r(859);function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach((function(e){(0,n.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=v(e),n=v(n),o=v(o),i=v(i),u=v(u);var m=(s=(0,a.injectable)(),c=(0,a.singleton)(),f=function(t,e){return(0,a.inject)("Ajax")(t,void 0,0)},l=function(t,e){return(0,a.inject)("MapboxUrl")(t,void 0,1)},p=function(t,e){return(0,a.inject)("MapboxDirection")(t,void 0,2)},y=Reflect.metadata("design:type",Function),h=Reflect.metadata("design:paramtypes",["undefined"==typeof Ajax?Object:Ajax,"undefined"==typeof MapboxUrl?Object:MapboxUrl,"undefined"==typeof MapboxDirection?Object:MapboxDirection]),s(d=c(d=f(d=l(d=p(d=y(d=h(d=function(){function t(e,r,n){(0,i.default)(this,t),this.ajax=e,this.url=r,this.direction=n}return(0,u.default)(t,[{key:"getStaticImageSource",value:function(){var t=(0,o.default)(e.default.mark((function t(r){var n,o,i,u,a,s,c,f,l,p;return e.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.spotCoords,o=r.spotImageUrls,i=r.width,u=r.height,a=r.line,t.next=3,this.direction.getDirections({type:"cycling",spotCoords:n});case 3:return s=t.sent,c=this.url.getGeoJson({spots:n.map((function(t,e){return{coord:t,imageUrl:o[e]}})),line:b({coords:s},a)}),f=this.url.getStaticImageUrl({geojson:c,width:i,height:u}),t.next=8,this.ajax.requestBLOB({url:f});case 8:return l=t.sent,t.next=11,new Promise((function(t,e){var r=new FileReader;r.onload=function(e){t(e.target.result.toString())},r.onerror=e,r.readAsDataURL(l)}));case 11:return p=t.sent,t.abrupt("return",p);case 13:case"end":return t.stop()}}),t,this)})));function r(e){return t.apply(this,arguments)}return r}()}]),t}())||d)||d)||d)||d)||d)||d)||d);t.default=m})?n.apply(e,o):n)||(t.exports=i)},398:function(t,e,r){var n,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,r(149)],void 0===(i="function"==typeof(n=function(t,e){"use strict";var n=r(859);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.default}}),e=n(e)})?n.apply(e,o):n)||(t.exports=i)},988:function(t,e,r){var n,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,r(85),r(198),r(751)],void 0===(i="function"==typeof(n=function(t,e,n,o){"use strict";var i,u,a,s,c,f,l,p,y=r(859);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=y(e),n=y(n);var h=(i=(0,o.injectable)(),u=(0,o.singleton)(),a=function(t,e){return(0,o.inject)("MapboxConfig")(t,void 0,0)},s=Reflect.metadata("design:type",Function),c=Reflect.metadata("design:paramtypes",["undefined"==typeof MapboxConfig?Object:MapboxConfig]),i(f=u(f=a(f=s(f=c((p=l=function(){function t(r){(0,e.default)(this,t),this.config=r}return(0,n.default)(t,[{key:"getDirectionUrl",value:function(e){var r=e.spotCoords,n=e.type,o=t.URL_ORIGIN,i=t.DIRECTION_PATHS,u=r.reduce((function(t,e){return"".concat(t,";").concat(e[0],",").concat(e[1])}),"").substr(1);return"".concat(o,"/").concat(i,"/").concat(n,"/").concat(u,"?geometries=geojson&access_token=").concat(this.config.getAccessToken())}},{key:"getStaticImageUrl",value:function(e){var r=e.geojson,n=e.width,o=e.height,i=[t.URL_ORIGIN,t.STATIC_IMAGE_PATHS,this.config.getTheme(),"static","geojson(".concat(encodeURIComponent(JSON.stringify(r)),")"),"auto","".concat(n,"x").concat(o)].join("/");return"".concat(i,"?access_token=").concat(this.config.getAccessToken())}},{key:"getGeoJson",value:function(t){var e=t.spots,r=t.line,n={type:"FeatureCollection",features:[]};return e.forEach((function(t){n.features.push({type:"Feature",geometry:{type:"Point",coordinates:t.coord},properties:{"marker-size":"medium","marker-symbol":"bus","marker-color":"#ace"}})})),n.features.push({type:"Feature",geometry:{type:"LineString",coordinates:r.coords},properties:{stroke:r.color,"stroke-width":r.width}}),n}}]),t}(),l.URL_ORIGIN="https://api.mapbox.com",l.STATIC_IMAGE_PATHS="styles/v1/mapbox",l.DIRECTION_PATHS="directions/v5/mapbox",f=p))||f)||f)||f)||f)||f);t.default=h})?n.apply(e,o):n)||(t.exports=i)},122:function(t,e,r){var n,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,r(988)],void 0===(i="function"==typeof(n=function(t,e){"use strict";var n=r(859);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.default}}),e=n(e)})?n.apply(e,o):n)||(t.exports=i)},751:function(t,e,r){"use strict";var n;r.r(e),r.d(e,{Lifecycle:function(){return o},autoInjectable:function(){return E},container:function(){return R},delay:function(){return v},inject:function(){return A},injectAll:function(){return U},injectAllWithTransform:function(){return F},injectWithTransform:function(){return D},injectable:function(){return C},instanceCachingFactory:function(){return N},instancePerContainerCachingFactory:function(){return q},isClassProvider:function(){return y},isFactoryProvider:function(){return h},isNormalToken:function(){return g},isTokenProvider:function(){return w},isValueProvider:function(){return _},predicateAwareClassFactory:function(){return K},registry:function(){return I},scoped:function(){return G},singleton:function(){return L}}),function(t){t[t.Transient=0]="Transient",t[t.Singleton=1]="Singleton",t[t.ResolutionScoped=2]="ResolutionScoped",t[t.ContainerScoped=3]="ContainerScoped"}(n||(n={}));var o=n,i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function u(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function a(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u}function c(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t}var f="injectionTokens";function l(t){var e=Reflect.getMetadata("design:paramtypes",t)||[],r=Reflect.getOwnMetadata(f,t)||{};return Object.keys(r).forEach((function(t){e[+t]=r[t]})),e}function p(t,e){return function(r,n,o){var i=Reflect.getOwnMetadata(f,r)||{};i[o]=e?{token:t,transform:e.transformToken,transformArgs:e.args||[]}:t,Reflect.defineMetadata(f,i,r)}}function y(t){return!!t.useClass}function h(t){return!!t.useFactory}var d=function(){function t(t){this.wrap=t,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return t.prototype.createProxy=function(t){var e,r=this,n=!1;return new Proxy({},this.createHandler((function(){return n||(e=t(r.wrap()),n=!0),e})))},t.prototype.createHandler=function(t){var e={};return this.reflectMethods.forEach((function(r){e[r]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e[0]=t();var o=Reflect[r];return o.apply(void 0,c(e))}})),e},t}();function v(t){if(void 0===t)throw new Error("Attempt to `delay` undefined. Constructor must be wrapped in a callback");return new d(t)}function g(t){return"string"==typeof t||"symbol"==typeof t}function b(t){return"object"==typeof t&&"token"in t&&"multiple"in t}function m(t){return"object"==typeof t&&"token"in t&&"transform"in t}function w(t){return!!t.useToken}function _(t){return null!=t.useValue}var x=function(){function t(){this._registryMap=new Map}return t.prototype.entries=function(){return this._registryMap.entries()},t.prototype.getAll=function(t){return this.ensure(t),this._registryMap.get(t)},t.prototype.get=function(t){this.ensure(t);var e=this._registryMap.get(t);return e[e.length-1]||null},t.prototype.set=function(t,e){this.ensure(t),this._registryMap.get(t).push(e)},t.prototype.setAll=function(t,e){this._registryMap.set(t,e)},t.prototype.has=function(t){return this.ensure(t),this._registryMap.get(t).length>0},t.prototype.clear=function(){this._registryMap.clear()},t.prototype.ensure=function(t){this._registryMap.has(t)||this._registryMap.set(t,[])},t}(),j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e}(x),O=function(){this.scopedResolutions=new Map};function k(t,e,r){var n,o,i=s(t.toString().match(/constructor\(([\w, ]+)\)/)||[],2)[1],u=function(t,e){return null===t?"at position #"+e:'"'+t.split(",")[e].trim()+'" at position #'+e}(void 0===i?null:i,e);return n="Cannot inject the dependency "+u+' of "'+t.name+'" constructor. Reason:',void 0===o&&(o="    "),c([n],r.message.split("\n").map((function(t){return o+t}))).join("\n")}var P=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e}(x),T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e}(x),M=function(){this.preResolution=new P,this.postResolution=new T},S=new Map,R=new(function(){function t(t){this.parent=t,this._registry=new j,this.interceptors=new M}return t.prototype.register=function(t,e,r){var n;if(void 0===r&&(r={lifecycle:o.Transient}),n=function(t){return y(t)||_(t)||w(t)||h(t)}(e)?e:{useClass:e},w(n))for(var i=[t],u=n;null!=u;){var a=u.useToken;if(i.includes(a))throw new Error("Token registration cycle detected! "+c(i,[a]).join(" -> "));i.push(a);var s=this._registry.get(a);u=s&&w(s.provider)?s.provider:null}if((r.lifecycle===o.Singleton||r.lifecycle==o.ContainerScoped||r.lifecycle==o.ResolutionScoped)&&(_(n)||h(n)))throw new Error('Cannot use lifecycle "'+o[r.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(t,{provider:n,options:r}),this},t.prototype.registerType=function(t,e){return g(e)?this.register(t,{useToken:e}):this.register(t,{useClass:e})},t.prototype.registerInstance=function(t,e){return this.register(t,{useValue:e})},t.prototype.registerSingleton=function(t,e){if(g(t)){if(g(e))return this.register(t,{useToken:e},{lifecycle:o.Singleton});if(e)return this.register(t,{useClass:e},{lifecycle:o.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var r=t;return e&&!g(e)&&(r=e),this.register(t,{useClass:r},{lifecycle:o.Singleton})},t.prototype.resolve=function(t,e){void 0===e&&(e=new O);var r=this.getRegistration(t);if(!r&&g(t))throw new Error('Attempted to resolve unregistered dependency token: "'+t.toString()+'"');if(this.executePreResolutionInterceptor(t,"Single"),r){var n=this.resolveRegistration(r,e);return this.executePostResolutionInterceptor(t,n,"Single"),n}if(function(t){return"function"==typeof t||t instanceof d}(t)){n=this.construct(t,e);return this.executePostResolutionInterceptor(t,n,"Single"),n}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},t.prototype.executePreResolutionInterceptor=function(t,e){var r,n;if(this.interceptors.preResolution.has(t)){var o=[];try{for(var i=a(this.interceptors.preResolution.getAll(t)),u=i.next();!u.done;u=i.next()){var s=u.value;"Once"!=s.options.frequency&&o.push(s),s.callback(t,e)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}this.interceptors.preResolution.setAll(t,o)}},t.prototype.executePostResolutionInterceptor=function(t,e,r){var n,o;if(this.interceptors.postResolution.has(t)){var i=[];try{for(var u=a(this.interceptors.postResolution.getAll(t)),s=u.next();!s.done;s=u.next()){var c=s.value;"Once"!=c.options.frequency&&i.push(c),c.callback(t,e,r)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}this.interceptors.postResolution.setAll(t,i)}},t.prototype.resolveRegistration=function(t,e){if(t.options.lifecycle===o.ResolutionScoped&&e.scopedResolutions.has(t))return e.scopedResolutions.get(t);var r,n=t.options.lifecycle===o.Singleton,i=t.options.lifecycle===o.ContainerScoped,u=n||i;return r=_(t.provider)?t.provider.useValue:w(t.provider)?u?t.instance||(t.instance=this.resolve(t.provider.useToken,e)):this.resolve(t.provider.useToken,e):y(t.provider)?u?t.instance||(t.instance=this.construct(t.provider.useClass,e)):this.construct(t.provider.useClass,e):h(t.provider)?t.provider.useFactory(this):this.construct(t.provider,e),t.options.lifecycle===o.ResolutionScoped&&e.scopedResolutions.set(t,r),r},t.prototype.resolveAll=function(t,e){var r=this;void 0===e&&(e=new O);var n=this.getAllRegistrations(t);if(!n&&g(t))throw new Error('Attempted to resolve unregistered dependency token: "'+t.toString()+'"');if(this.executePreResolutionInterceptor(t,"All"),n){var o=n.map((function(t){return r.resolveRegistration(t,e)}));return this.executePostResolutionInterceptor(t,o,"All"),o}var i=[this.construct(t,e)];return this.executePostResolutionInterceptor(t,i,"All"),i},t.prototype.isRegistered=function(t,e){return void 0===e&&(e=!1),this._registry.has(t)||e&&(this.parent||!1)&&this.parent.isRegistered(t,!0)},t.prototype.reset=function(){this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},t.prototype.clearInstances=function(){var t,e;try{for(var r=a(this._registry.entries()),n=r.next();!n.done;n=r.next()){var o=s(n.value,2),i=o[0],u=o[1];this._registry.setAll(i,u.filter((function(t){return!_(t.provider)})).map((function(t){return t.instance=void 0,t})))}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},t.prototype.createChildContainer=function(){var e,r,n=new t(this);try{for(var i=a(this._registry.entries()),u=i.next();!u.done;u=i.next()){var c=s(u.value,2),f=c[0],l=c[1];l.some((function(t){return t.options.lifecycle===o.ContainerScoped}))&&n._registry.setAll(f,l.map((function(t){return t.options.lifecycle===o.ContainerScoped?{provider:t.provider,options:t.options}:t})))}}catch(t){e={error:t}}finally{try{u&&!u.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n},t.prototype.beforeResolution=function(t,e,r){void 0===r&&(r={frequency:"Always"}),this.interceptors.preResolution.set(t,{callback:e,options:r})},t.prototype.afterResolution=function(t,e,r){void 0===r&&(r={frequency:"Always"}),this.interceptors.postResolution.set(t,{callback:e,options:r})},t.prototype.getRegistration=function(t){return this.isRegistered(t)?this._registry.get(t):this.parent?this.parent.getRegistration(t):null},t.prototype.getAllRegistrations=function(t){return this.isRegistered(t)?this._registry.getAll(t):this.parent?this.parent.getAllRegistrations(t):null},t.prototype.construct=function(t,e){var r=this;if(t instanceof d)return t.createProxy((function(t){return r.resolve(t,e)}));var n=S.get(t);if(!n||0===n.length){if(0===t.length)return new t;throw new Error('TypeInfo not known for "'+t.name+'"')}var o=n.map(this.resolveParams(e,t));return new(t.bind.apply(t,c([void 0],o)))},t.prototype.resolveParams=function(t,e){var r=this;return function(n,o){var i,u,a;try{return b(n)?m(n)?n.multiple?(i=r.resolve(n.transform)).transform.apply(i,c([r.resolveAll(n.token)],n.transformArgs)):(u=r.resolve(n.transform)).transform.apply(u,c([r.resolve(n.token,t)],n.transformArgs)):n.multiple?r.resolveAll(n.token):r.resolve(n.token,t):m(n)?(a=r.resolve(n.transform,t)).transform.apply(a,c([r.resolve(n.token,t)],n.transformArgs)):r.resolve(n,t)}catch(t){throw new Error(k(e,o,t))}}},t}());var E=function(){return function(t){var e=l(t);return function(r){function n(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return r.apply(this,c(n.concat(e.slice(n.length).map((function(e,r){var o,i,u;try{return b(e)?m(e)?e.multiple?(o=R.resolve(e.transform)).transform.apply(o,c([R.resolveAll(e.token)],e.transformArgs)):(i=R.resolve(e.transform)).transform.apply(i,c([R.resolve(e.token)],e.transformArgs)):e.multiple?R.resolveAll(e.token):R.resolve(e.token):m(e)?(u=R.resolve(e.transform)).transform.apply(u,c([R.resolve(e.token)],e.transformArgs)):R.resolve(e)}catch(e){var a=r+n.length;throw new Error(k(t,a,e))}})))))||this}return u(n,r),n}(t)}};var A=function(t){return p(t)};var C=function(){return function(t){S.set(t,l(t))}};var I=function(t){return void 0===t&&(t=[]),function(e){return t.forEach((function(t){var e=t.token,r=t.options,n=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}(t,["token","options"]);return R.register(e,n,r)})),e}};var L=function(){return function(t){C()(t),R.registerSingleton(t)}};var U=function(t){return p({token:t,multiple:!0})};var F=function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o={token:t,multiple:!0,transform:e,transformArgs:r};return p(o)};var D=function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return p(t,{transformToken:e,args:r})};function G(t,e){return function(r){C()(r),R.register(e||r,r,{lifecycle:t})}}function N(t){var e;return function(r){return null==e&&(e=t(r)),e}}function q(t){var e=new WeakMap;return function(r){var n=e.get(r);return null==n&&(n=t(r),e.set(r,n)),n}}function K(t,e,r,n){var o,i;return void 0===n&&(n=!0),function(u){var a=t(u);return n&&i===a||(o=(i=a)?u.resolve(e):u.resolve(r)),o}}if("undefined"==typeof Reflect||!Reflect.getMetadata)throw new Error("tsyringe requires a reflect polyfill. Please add 'import \"reflect-metadata\"' to the top of your entry point.")}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t};var n=r(266);return n=n.default}()}));
//# sourceMappingURL=MapboxService.js.map